# React native
## (1) React native 란?  
리액트 네이티브는 페이스북에서 만든 오픈소스 모바일 애플리케이션 프레임워크이다.  
리액트 네이티브는 iOS와 안드로이드에서 동작하는 네이티브 모바일 앱을 만드는 자바스크립트 프레임 워크이다.    
Javascript로 개발이 가능하며 하나의 프로그래밍 언어로 IOS와 안드로이드 모바일 앱을 동시에 개발할 수 있는 크로스 플랫폼이다. 
즉, 웹 개발자가 익숙한 자바스크립트 라이브러리를 이용하면서 겉모습과 실제 동작까지 진짜 네이티브인 모바일 앱을 만들 수 있다.   
게다가 작성한 코드 대부분을 플랫폼 간에 공유할 수 있어서 리액트 네이티브를 이용하면 iOS와 안드로이드 앱을 동시에 개발할 수 있다는 장점이 존재한다.

## (2) React native의 장점 단점
### 장점
* Objective-C 나 Java를 사용하지 않고 웹 개발자가 익숙한 기술 (리액트, 자바스크립트)을 이용하여 모바일 앱 개발을 할 수 있음.  
* 크로스 플랫폼 프레임워크 : 대부분의 코드가 플랫폼 간 공유가 가능해서 iOS와 안드로이드를 동시에 개발할 수 있음  
* 비용 그리고 오픈 소스 : 하나의 언어 그리고 하나의 코드로 두 개의 OS 앱을 개발할 수 있기 때문에 일반적인 네이티브 앱을 개발하는 것보다 두배 비용이 저렴하게 든다. 또한 기존에 JavaScript 를 사용하는 개발자들이 많기 때문에 개발자들을 고용하는데도 좋고 쉽게 배울 수 있다.  
또한 앱의 유지보수에도 하나의 코드만 수정하면 되기에 유지 보수 비용도 줄어든다.  
리액트 네이티브는 오픈소스로 커뮤니티가 활성화되어 있고 많은 블로그에서 정보를 찾아볼 수 있다. 오픈 소스의 장점으로 문제 해결하는 데 참고 자료가 많이 있어 생산성을 증대시키고 비용을 절약할 수 있다.  
### 단점
* 네이티브 보다 성능이 떨어진다. : 리액트 네이티브는 네이티브 브릿지를 사용하여 네이티브 스레드를 연결시켜 동작하는 하이브리드 앱이기 때문에 네티이브 개발 방식보다는 당연하게 성능이 떨어진다.
* 네이티브의 새로운 기능을 사용하는데 오래 걸림 ( 안드로이드나 iOS에서 업데이트를 통해 새로 제공하는 API를 리액트 네이티브가 지원하기까지의 시간이 걸림)
* 잦은 업데이트. 한두 달 사이에 버전이 하나씩 올라가는게 개발에 방해가 될 때도 있다.  

## (3) React native의 동작 방식
Javascript <-> Bridge <-> Native  
* 자바스크립트 영역  
자바스크립트 스레드 (Javascript thread) : 자바스크립트 코드가 실행되는 장소이며 보통 리액트로 구성되어 있음  
* 브릿지 : 자바스크립트 코드를 이용해 네이티브 계층과 통신할 수 있도록 연결하는 역할  
브릿지는 자바스크립트 스레드 에서 정보를 받아 네이티브로 전달  
* 네이티브 영역  
메인 스레드 :UI를 담당  
섀도(shadow) 스레드 : 레이아웃을 계산하는데 사용되는 백그라운드 스레드  
네이티브 모듈 : 각 모듈에는 자체 스레드가 있는데, 안드로이드의 경우 thread pool을 공유  

Native 부분인 Main thread와 Javascript 부분인 JS thread는 Native Bridge라는 것을 통해 소통한다.
이것은 클라이언트 - 서버가 통신하는 것과 비슷하다. 클라이언트가 메인 스레드, 서버가 JS 스레드인 것이다. 각 부분에서 전달되는 정보는 JSON object 형태로 변환되어서 전달된다.

## (4) React Native 앱의 실행과정
1. 앱이 시작되면서 메인 스레드가 실행되고 메인스레드는 JS 스레드를 실행시키고 자바스크립트 번들을 로드한다.
2. JS 스레드가 실행되면서 React는 virtual DOM을 생성하고 diffing 알고리즘을 통해 변경사항을 Native Bridge를 경유하여 shadow 스레드로 전달한다.
3. shadow 스레드는 변경사항 메세지를 통해 화면의 레이아웃을 계산하고 계산이 끝난 레이아웃의 파라미터나 객체를 메인 스레드로 보낸다.
4. 메인스레드가 UI를 화면에 표시한다.  
5. 사용자가 화면에 입력한 UI 이벤트 정보들이 Native Bridge를 경유하여 JS 스레드로 보내진다.  
6. UI 이벤트 메세지를 활용하여 JS 스레드에서 비지니스 로직들이 실행되고 React는 다시 Virtual DOM을 생성하며 변경사항을 다시 Native Bridge를 경유하여 shadow thread로 전달된다.
7. (3),(4),(5),(6) 과정이 반복된다.

## (5) React Native의 라이선스
MIT 라이선스로 누구나 수정, 배포가 가능하며, 상업적으로 이용해도 문제가 없다. 